@page
@model CarDealerWeb.Pages.Admin.AddCarModel

<h2>Dodaj nowy samochód</h2>

<form method="post" enctype="multipart/form-data">
    <div class="mb-3">
        <label>Marka</label>
        <input asp-for="Car.Brand" class="form-control" />
        <span asp-validation-for="Car.Brand" class="text-danger"></span>
    </div>
    <div class="mb-3">
        <label>Model</label>
        <input asp-for="Car.Model" class="form-control" />
        <span asp-validation-for="Car.Model" class="text-danger"></span>
    </div>
    <div class="mb-3">
        <label>Rok</label>
        <input asp-for="Car.Year" class="form-control" />
    </div>
    <div class="mb-3">
        <label>Cena</label>
        <input asp-for="Car.Price" class="form-control" />
    </div>
    <div class="mb-3">
        <label>Opis</label>
        <textarea asp-for="Car.Description" class="form-control"></textarea>
    </div>
    <div class="form-group">
        <label>Dodaj zdjęcia (max 10)</label>
        <input type="file" name="Uploads" multiple class="form-control" />
        <input type="hidden" id="MainImageIndex" name="MainImageIndex" value="0" />
        <script>
            document.querySelector('input[name="Uploads"]').addEventListener('change', function (e) {
                // Można tu dodać dynamiczne wybieranie głównego zdjęcia
                // na razie np. pierwsze zaznaczone
                document.getElementById('MainImageIndex').value = 0; // domyślnie 1. zdjęcie
            });
        </script>
    </div>
    <button type="submit" class="btn btn-primary">Dodaj samochód</button>
    <partial name="_ValidationScriptsPartial" />
</form>
